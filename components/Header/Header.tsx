'use client'

import { useState, useEffect } from 'react'
import Link from 'next/link'
import styles from './Header.module.css'

export default function Header() {
  const [isActive, setIsActive] = useState(false)
  const [isMenuOpen, setIsMenuOpen] = useState(false)

  useEffect(() => {
    setIsActive(true)
  }, [])

  return (
    <header className={`${styles.header} ${isActive ? styles.isActive : ''}`}>
      <div className={`${styles.wrapper} ${styles.isBlack} ${isActive ? styles.isActive : ''}`}>
        <div className={styles.child}>
          <button
            className={`${styles.burger} ${isMenuOpen ? styles.isMenuOpen : ''}`}
            onClick={() => setIsMenuOpen(!isMenuOpen)}
            aria-label="Toggle menu"
          >
            <span className={styles.line}></span>
            <span className={styles.line}></span>
            <span className={styles.line}></span>
          </button>
        </div>
        <div className={styles.child}>
          <Link href="/" className={`${styles.logo} ${isMenuOpen ? styles.isMenuOpen : ''}`}>
            <svg xmlns="http://www.w3.org/2000/svg" aria-describedby="logo-title" viewBox="0 0 133 49" fill="currentColor">
              <path d="M16.04 33.862c0 2.09-.484 4.038-1.79 5.62-1.25 1.551-3.264 2.428-5.28 2.428a7.5 7.5 0 0 1-3.944-1.022v7.37H1.138v-22.02h3.406v.96a7.1 7.1 0 0 1 4.23-1.384c2.128 0 4.17.818 5.476 2.428 1.191 1.498 1.79 3.503 1.79 5.62m-4.089 0c0-1.3-.283-2.485-.822-3.27-.653-.989-1.643-1.355-2.923-1.355-1.05 0-1.957.34-2.582 1.073-.74.846-1.078 2.175-1.078 3.558s.339 2.739 1.078 3.558c.682.734 1.617 1.073 2.724 1.073s2.186-.368 2.839-1.355c.538-.797.764-1.984.764-3.282M17.727 29.062c.087-.112.206-.31.315-.451 1.388-1.95 3.492-2.768 6.016-2.768 2.81 0 5.08.93 6.33 3.021.54.927.823 1.98.821 3.051v9.573h-3.375v-2.6c-.283.818-1.232 1.666-1.902 2.062a7.1 7.1 0 0 1-3.576.932c-1.506 0-3.065-.733-3.89-1.694-.796-1.102-1.19-1.864-1.19-3.19 0-1.635 1.026-3.247 2.465-4.087 1.7-.904 2.894-.932 5.08-1.272l2.465-.337a2.25 2.25 0 0 0-1.136-1.414 4.05 4.05 0 0 0-2.186-.48c-.992 0-1.816.229-2.412.934q-.18.178-.312.394zm6.814 5.845c-1.643.31-3.379.613-3.434 1.84-.058.903.766 1.694 2.013 1.635 1.618-.058 3.578-.849 4.06-2.684.121-.432.19-.878.206-1.326zM43.597 26.266v3.558a6.9 6.9 0 0 0-2.952-.395c-1.108.084-1.903.479-2.44 1.045-.683.733-.995 1.751-.995 2.88v8.133h-3.89v-15.25h3.407v2.09a4.7 4.7 0 0 1 1.644-1.693 5.7 5.7 0 0 1 2.67-.791 5.86 5.86 0 0 1 2.556.423M51.493 29.205v5.532c0 1.186.029 2.062.37 2.598a2.13 2.13 0 0 0 1.559.934c.833.054 1.67.025 2.498-.086v3.305c-1.22.337-3.349.394-4.485.083-1.39-.396-2.465-1.072-3.065-2.203-.653-1.214-.737-2.683-.737-4.349v-5.814h-3.178v-2.967h3.178v-5.44h3.86v5.44h4.427v2.967zM72.654 33.863v7.625h-3.917v-7.625c0-1.383-.226-2.683-1.027-3.474-.54-.564-1.362-.846-2.414-.846a3.24 3.24 0 0 0-1.816.592 3.14 3.14 0 0 0-1.136 1.95c-.142.676-.17 1.72-.17 2.767v6.636h-3.881v-15.25h3.404v1.047a7.27 7.27 0 0 1 4.145-1.47 6.97 6.97 0 0 1 4.74 1.694c1.815 1.666 2.072 3.7 2.072 6.354M79.14 37.027a3.4 3.4 0 0 0 2.782 1.297 3.48 3.48 0 0 0 2.81-1.297c.113-.17.17-.342.284-.483l3.833 1.666a9.3 9.3 0 0 1-.91 1.244 7.6 7.6 0 0 1-2.73 1.903 7.6 7.6 0 0 1-3.287.55c-2.27-.115-4.456-.848-5.875-2.542a8.16 8.16 0 0 1-1.874-5.506c.056-2.117.594-3.983 1.874-5.506 1.42-1.668 3.605-2.542 5.875-2.542s4.456.846 5.875 2.542c1.278 1.523 1.874 3.474 1.874 5.506 0 .34-.027.705-.056 1.044h-11.27c.078.764.352 1.495.796 2.124m0-6.336a4 4 0 0 0-.616 1.24h6.804a4.6 4.6 0 0 0-.596-1.24c-.653-.877-1.676-1.302-2.81-1.302s-2.157.436-2.781 1.312zM102.033 26.266v3.558a6.9 6.9 0 0 0-2.952-.395c-1.107.084-1.902.479-2.44 1.045-.682.733-.995 1.751-.995 2.88v8.133h-3.888v-15.25h3.406v2.09a4.7 4.7 0 0 1 1.643-1.693 5.7 5.7 0 0 1 2.67-.791 5.85 5.85 0 0 1 2.556.423M111.614 31.179a2.54 2.54 0 0 0-1.192-1.355 3.4 3.4 0 0 0-1.643-.394 3.5 3.5 0 0 0-1.672.337c-.427.282-.512.537-.512.707a1 1 0 0 0 .085.34c.228.281.85.535 1.618.762s1.644.45 2.412.65c1.278.394 2.015.563 3.009 1.383 1.249.959 1.901 2.258 1.788 3.811a4.577 4.577 0 0 1-2.184 3.5c-1.222.764-2.699.99-4.26.99-2.1 0-3.889-.537-5.307-2.033-.71-.79-1.561-2.485-1.618-3.27l3.65-.91c.042.636.291 1.24.709 1.723.682.734 1.619.875 2.553.875.711 0 1.703-.14 2.159-.509a1.06 1.06 0 0 0 .397-.705.85.85 0 0 0-.255-.678c-.37-.366-1.081-.593-1.59-.734-.822-.225-1.619-.423-2.465-.65-1.391-.366-2.241-.734-3.036-1.355a4 4 0 0 1-1.153-1.372 4 4 0 0 1-.439-1.734c0-1.92 1.193-3.444 2.81-4.151a7.76 7.76 0 0 1 3.35-.593 7.25 7.25 0 0 1 3.265.763 6.78 6.78 0 0 1 3.264 3.699z" opacity="0.4"/>
              <path d="M12.689 6.678c-.51-1.022-.935-1.723-1.902-2.287a4.67 4.67 0 0 0-2.412-.735 4.6 4.6 0 0 0-2.465.566 2 2 0 0 0-1.05 1.692 1.34 1.34 0 0 0 .397.96c.37.397 1.306.763 2.327 1.073l3.548 1.022c1.816.538 2.876 1.073 3.776 1.921a5.854 5.854 0 0 1 1.898 4.322c0 1.78-1.028 3.645-2.64 4.718-1.561 1.044-3.435 1.297-5.592 1.297-2.726 0-5.053-.705-6.725-2.738A9.65 9.65 0 0 1 0 14.536l3.917-1.044c.17.987.51 1.89 1.028 2.512.821 1.13 2.413 1.634 3.775 1.634 1.079 0 2.44-.31 3.18-.876a1.96 1.96 0 0 0 .822-1.666 1.81 1.81 0 0 0-.616-1.41 4.6 4.6 0 0 0-1.818-.905l-3.803-1.102c-1.534-.423-2.925-1.022-3.917-1.892-1.22-1.022-1.76-2.54-1.76-3.953 0-2.232 1.437-4.15 3.321-4.997C5.604.16 7.081.044 8.443.044s2.923.256 4.285.99c1.732.932 3.096 2.542 3.889 4.602zM20.23 18.688c-1.306-1.584-1.875-3.419-1.875-5.508 0-2.145.655-4.038 1.875-5.505 1.42-1.668 3.634-2.543 5.875-2.543s4.456.846 5.875 2.543c1.362 1.612 1.91 3.437 1.91 5.495 0 2.175-.595 3.895-1.902 5.508-1.437 1.692-3.576 2.538-5.875 2.538s-4.463-.87-5.883-2.528m9.564-5.518c0-1.159-.226-2.344-.879-3.19s-1.674-1.271-2.81-1.271-2.186.423-2.81 1.271-.85 2.031-.85 3.19.205 2.314.85 3.162 1.674 1.3 2.81 1.3 2.186-.452 2.81-1.3.88-2.001.88-3.162M41.553 5.549h4.086v2.965h-4.086v12.283H37.69V8.514h-3.184V5.55h3.184c.057-1.157.312-2.739 1.42-3.924C40.728-.01 43.14-.155 45.638.1v3.304a7.5 7.5 0 0 0-2.244-.028c-1.53.224-1.842 1.044-1.842 2.174M69 13.17v7.623h-3.92V13.17c0-1.383-.226-2.683-1.027-3.474-.538-.564-1.362-.846-2.411-.846a3.2 3.2 0 0 0-1.816.593 3.14 3.14 0 0 0-1.136 1.947c-.142.679-.17 1.723-.17 2.767v6.636h-3.881V5.55h3.406v1.045a7.25 7.25 0 0 1 4.145-1.468 6.98 6.98 0 0 1 4.74 1.694C68.742 8.486 69 10.513 69 13.17M85.731 13.17v7.624h-3.917V13.17c0-1.384-.226-2.683-1.027-3.474-.538-.565-1.362-.847-2.412-.847a3.2 3.2 0 0 0-1.816.593 3.14 3.14 0 0 0-1.136 1.948c-.142.678-.17 1.723-.17 2.767v6.636H71.37V5.55h3.4v1.044a7.24 7.24 0 0 1 4.143-1.467 6.97 6.97 0 0 1 4.741 1.694c1.823 1.666 2.077 3.693 2.077 6.35M89.125 18.688c-1.304-1.584-1.871-3.419-1.871-5.508 0-2.145.651-4.038 1.871-5.505C90.545 6.007 92.76 5.132 95 5.132s4.456.846 5.878 2.543c1.362 1.608 1.9 3.443 1.9 5.505 0 2.175-.596 3.896-1.9 5.508-1.449 1.692-3.577 2.538-5.878 2.538-2.3 0-4.455-.88-5.875-2.538m9.567-5.518c0-1.159-.228-2.344-.88-3.19-.65-.846-1.676-1.271-2.812-1.271s-2.185.423-2.808 1.271-.852 2.031-.852 3.19.205 2.314.852 3.162 1.675 1.3 2.808 1.3c1.134 0 2.186-.452 2.813-1.3.626-.848.879-2.001.879-3.162M118.036 5.55l-5.592 15.247h-3.833l-5.59-15.247h3.86l3.661 10.561 3.634-10.561zM118.874 8.372c.084-.11.205-.309.312-.45 1.389-1.95 3.492-2.767 6.017-2.767 2.81 0 5.082.93 6.329 3.02.54.927.824 1.98.822 3.052v9.57h-3.375V18.2c-.284.817-1.22 1.665-1.902 2.062a7.1 7.1 0 0 1-3.577.93c-1.504 0-3.065-.734-3.889-1.695-.795-1.1-1.193-1.861-1.193-3.19 0-1.635 1.027-3.247 2.465-4.087 1.703-.905 2.894-.932 5.08-1.271l2.465-.34a2.24 2.24 0 0 0-1.134-1.412 4.04 4.04 0 0 0-2.185-.478c-.995 0-1.818.225-2.412.932q-.182.178-.314.394zm6.812 5.847c-1.644.31-3.379.613-3.435 1.839-.055.903.768 1.694 2.015 1.635 1.619-.055 3.577-.846 4.06-2.682.12-.432.189-.877.205-1.326zM51.493.042v3.39h-3.86V.042zm0 5.518v15.248h-3.86V5.55z"/>
            </svg>
          </Link>
        </div>
        <div className={styles.child}>
          <Link href="/submit" className={`button_btn__Lt_MH button_rounded__9DsZf button_black__K32K3 header_submit__2k2zB ${isMenuOpen ? styles.isMenuOpen : ''}`}>
            Submit a project
          </Link>
        </div>
      </div>
      
      {/* Menu Overlay */}
      <nav className={`menu_menu__S6D2g ${isMenuOpen ? 'menu_isActive__dASu_' : ''}`}>
        <div className="menu_links__LEU7U">
          <ul className="menu_linksPrimary__cvqSt">
            <li className="menu_item__g51Wo">
              <Link href="/about" className="menu_link__mDcJM hm-1" onClick={() => setIsMenuOpen(false)}>
                About
              </Link>
            </li>
            <li className="menu_item__g51Wo">
              <Link href="/strategies" className="menu_link__mDcJM hm-1" onClick={() => setIsMenuOpen(false)}>
                Strategies
              </Link>
            </li>
            <li className="menu_item__g51Wo">
              <Link href="/team" className="menu_link__mDcJM hm-1" onClick={() => setIsMenuOpen(false)}>
                Team
              </Link>
            </li>
            <li className="menu_item__g51Wo">
              <Link href="/portfolio" className="menu_link__mDcJM hm-1" onClick={() => setIsMenuOpen(false)}>
                Portfolio
              </Link>
            </li>
            <li className="menu_item__g51Wo">
              <Link href="/news" className="menu_link__mDcJM hm-1" onClick={() => setIsMenuOpen(false)}>
                News
              </Link>
            </li>
            <li className="menu_item__g51Wo">
              <Link href="/contact" className="menu_link__mDcJM hm-1" onClick={() => setIsMenuOpen(false)}>
                Contact
              </Link>
            </li>
          </ul>
          <ul className="menu_linksSecondary__613QU">
            <li className="menu_item__g51Wo">
              <Link href="/submit" className="menu_link__mDcJM pm-m" onClick={() => setIsMenuOpen(false)}>
                Submit a project
              </Link>
            </li>
          </ul>
        </div>
      </nav>
    </header>
  )
}

